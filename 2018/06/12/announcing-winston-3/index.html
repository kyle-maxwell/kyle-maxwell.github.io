<!doctype html>
<html lang="en-US">
  <head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Announcing winston@3.0.0! — GoDaddy Engineering Blog</title>
  <meta name="description" content="Information from our engineering team about the technology and tools we use to create software which empowers small businesses around the world to build and market their digital identities.
">

  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" integrity="sha384-WskhaSGFgHYWDcbwN70/dfYBj47jz9qbsMId/iRN3ewGhXQFZCSftd1LZCfmhktB" crossorigin="anonymous">
  <link rel="stylesheet" href="/engineering/assets/css/main.css">

  <meta name="theme-color" content="#4095e8">
  <meta name="msapplication-TileColor" content="#4095e8">
  <link rel="apple-touch-icon" sizes="180x180" href="/engineering/assets/images/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/engineering/assets/images/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/engineering/assets/images/favicon-16x16.png">
  <link rel="manifest" href="/engineering/site.webmanifest">
  <link type="application/atom+xml" rel="alternate" href="http://localhost:4000/engineering/feed.xml" title="GoDaddy Engineering Blog" />

  
  <link rel="canonical" href="http://localhost:4000/2018/06/12/announcing-winston-3/">
  

  <meta property="og:locale" content="en_US">
  <meta property="og:site_name" content="GoDaddy Engineering Blog">
  <meta property="og:url" content="http://localhost:4000/2018/06/12/announcing-winston-3/">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:site" content="@GodaddyOSS">

  
  <meta property="og:image" content="http://localhost:4000/assets/images/typeset-cover.jpg">
  

  
  <meta property="og:title" content="Announcing winston@3.0.0! — GoDaddy Engineering Blog">
  

  
  <meta property="og:description" content="After several years the winston team is happy to announce the latest version – 3.0.0! Learn more about the latest version of the most popular logging library for Node.js along with what Node.js LTS means to maintainers of popular npm packages.">
  

  <link rel="preload" href="//img1.wsimg.com/ux/fonts/boing/1.0/Boing-Bold.woff2" as="font" type="font/woff2" crossOrigin />
  <style>
  @font-face {
    font-family: Boing-Bold;
    src: url(//img1.wsimg.com/ux/fonts/boing/1.0/Boing-Bold.woff2) format("woff2"), url(//img1.wsimg.com/ux/fonts/boing/1.0/Boing-Bold.woff) format("woff");
    font-display: swap;
  }
  </style>
  <link rel="preload" href="//img1.wsimg.com/ux/fonts/sherpa/1.0/gdsherpa-bold.woff2" as="font" type="font/woff2" crossOrigin />
  <style>
  @font-face {
    font-family: gdsherpa;
    src: url(//img1.wsimg.com/ux/fonts/sherpa/1.0/gdsherpa-bold.woff2) format("woff2"), url(//img1.wsimg.com/ux/fonts/sherpa/1.0/gdsherpa-bold.woff) format("woff");
    font-weight: 700;
    font-display: swap;
  }
  </style>
  <link rel="preload" href="//img1.wsimg.com/ux/fonts/sherpa/1.0/gdsherpa-regular.woff2" as="font" type="font/woff2" crossOrigin />
  <style>
  @font-face {
    font-family: gdsherpa;
    src: url(//img1.wsimg.com/ux/fonts/sherpa/1.0/gdsherpa-regular.woff2) format("woff2"), url(//img1.wsimg.com/ux/fonts/sherpa/1.0/gdsherpa-regular.woff) format("woff");
    font-display: swap;
  }
  </style>
</head>

  <body class="layout--post page--announcing-winston-3">
    <nav class="navbar utility-bar navbar-dark bg-theme-grey-dark px-3 py-0">
  <a class="navbar-brand pt-1 pb-0" href="https://www.godaddy.com">
    <svg class="logo-mark logo-mark-white" height="18" viewBox="0 0 367.7 78.1" xmlns="http://www.w3.org/2000/svg"><path class="logo-mark-color" d="M95.3 38.6c0-4.6-3.6-8.4-8.3-8.4-4.6 0-8.3 3.8-8.3 8.4s3.6 8.3 8.3 8.3 8.3-3.7 8.3-8.3m14.4.1c0 11.9-10.1 21.4-22.6 21.4-12.6 0-22.6-9.5-22.6-21.4 0-12 10.1-21.6 22.6-21.6 12.5-.1 22.6 9.6 22.6 21.6M154.8 30c0-8-5.6-15-13.9-15h-11.5v30.3h11.5c8.3 0 13.9-7.3 13.9-15.3m15.5 0c0 17.1-12.1 28.8-29.1 28.8h-24.6c-1.2 0-2.1-.9-2.1-2V3.4c0-1.1.9-2 2.1-2h24.6c17.1.1 29.1 11.5 29.1 28.6M194.4 46.9c4.6 0 8.3-3.8 8.3-8.4s-3.6-8.4-8.3-8.4c-4.6 0-8.3 3.8-8.3 8.4 0 4.7 3.7 8.4 8.3 8.4M192.2 17c4.9 0 8.8 1.8 10.5 4.3v-1.2c0-1.1.9-1.9 1.9-1.9H215c1.1 0 1.9.8 1.9 1.9v36.8c0 1.1-.8 1.9-1.9 1.9h-10.3c-1.1 0-1.9-.8-1.9-1.9v-1.2c-1.7 2.5-5.7 4.3-10.6 4.3-10.4 0-20.4-8.3-20.4-21.6s10-21.4 20.4-21.4M241.4 46.9c4.6 0 8.3-3.8 8.3-8.4s-3.6-8.4-8.3-8.4c-4.6 0-8.3 3.8-8.3 8.4 0 4.7 3.7 8.4 8.3 8.4M238.9 17c5 0 8.9 1.9 10.7 4.1V3.4c0-1.1.9-1.9 1.9-1.9H262c1.1 0 1.9.8 1.9 1.9V57c0 1.1-.8 1.9-1.9 1.9h-10.3c-1.1 0-1.9-.8-1.9-1.9v-1.2c-2.1 2.5-5.7 4.3-10.6 4.3-10.4 0-20.4-8.3-20.4-21.6S228.7 17 238.9 17M288.4 46.9c4.6 0 8.3-3.8 8.3-8.4s-3.6-8.4-8.3-8.4c-4.6 0-8.3 3.8-8.3 8.4.1 4.7 3.7 8.4 8.3 8.4M286 17c5 0 8.9 1.9 10.7 4.1V3.4c0-1.1.9-1.9 1.9-1.9H309c1.1 0 1.9.8 1.9 1.9V57c0 1.1-.8 1.9-1.9 1.9h-10.3c-1.1 0-1.9-.8-1.9-1.9v-1.2c-2.1 2.5-5.7 4.3-10.6 4.3-10.4 0-20.4-8.3-20.4-21.6S275.7 17 286 17M345.5 64.7c-2.6 8.6-8.6 13.4-18 13.4-5.1 0-10.1-1.7-13.3-4.5-.5-.5-.8-1.1-.8-1.7 0-.5.2-1.1.7-1.7l3.9-5.9c.6-.8 1.5-.9 1.7-.9.9 0 1.3.2 2.1.8 1.2.8 2.9 1.8 4.8 1.8 1.6 0 3.7-.7 4.5-3.1l1.3-4.1H326c-1.3 0-2.1-.9-2.5-2L313 21.5c-.2-.9-.3-1.4-.3-1.7 0-.8.6-1.5 1.7-1.5h12.4c1.1 0 1.7 1 2 2l6.9 25.4h.5l5.5-25.4c.2-1 .9-2 2-2h12.6c1.2 0 1.7.7 1.7 1.5 0 .3-.1.8-.3 1.7l-12.2 43.2M49.7 50.9c-5 6.9-13.2 9.2-20.5 9.2C12.4 60.1 0 47.6 0 30.2.1 13.5 13.5.2 31 .2c13 0 23.4 5.5 28.1 16 .6 1.2 1 3.2-2.5 3.8l-9.2 1.6c-2.1.4-3.3-1-3.7-1.6-2.7-3.7-7.1-6.2-12.4-6.2-9.2 0-15.7 7-15.7 16.3 0 10.3 7.4 16.3 15.5 16.3 5.4 0 9.8-2 12.7-5.8h-8.1c-1.2 0-2.1-.9-2.1-2v-7.7c0-1.1.9-2 2.1-2h24.7c1.2 0 2.1.9 2.1 2v25.9c0 1.1-.9 2-2.1 2h-8.6c-1.2 0-2.1-.9-2.1-2v-5.9M359.8 0c-4.4 0-8 3.6-8 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 14.4c-3.5 0-6.4-2.9-6.4-6.4s2.9-6.4 6.4-6.4 6.4 2.9 6.4 6.4-2.9 6.4-6.4 6.4z"></path><path class="logo-mark-color" d="M361.4 6.5c0-.4-.1-.7-.4-.8-.2-.2-.6-.4-.9-.4h-1.4v2.3h1.4c.4 0 .7-.1.9-.4.2-.2.4-.4.4-.7zm-3.1 5.9h-1.5c-.1 0-.1 0-.2-.1 0-.1-.1-.1-.1-.2V3.8c0-.1 0-.1.1-.2.1 0 .1-.1.2-.1h3.3c1.1 0 1.9.2 2.5.8s.9 1.3.9 2.1c0 .6-.1 1.1-.5 1.5-.4.5-.7.8-1.2 1.1l1.9 2.9c.1.1.1.2 0 .4 0 .1-.1.1-.2.1H362c-.1 0-.2 0-.4-.1-.1 0-.1-.1-.2-.2l-1.6-2.7h-1.2V12c0 .1 0 .1-.1.2s-.1.2-.2.2z"></path></svg>
    &nbsp;
  </a>
</nav>

<nav class="navbar navbar-top navbar-expand-md navbar-light bg-white">
  <a class="navbar-brand font-weight-bold" href="http://localhost:4000/engineering/" title="GoDaddy Engineering">
    GoDaddy Engineering
  </a>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#topnav" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="topnav">
    <ul class="navbar-nav ml-auto">
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      <li class="nav-item">
        <a class="nav-link font-weight-bold" href="http://localhost:4000/engineering/featured-projects/" title="Featured Projects">
          Featured Projects
        </a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link font-weight-bold" href="http://localhost:4000/engineering/blog-posts/" title="Blog Posts">
          Blog Posts
        </a>
      </li>
      
      
      
      <li class="nav-item">
        <a class="nav-link font-weight-bold" href="http://localhost:4000/engineering/code-of-conduct/" title="Code of Conduct">
          Code of Conduct
        </a>
      </li>
      
      
      <li class="nav-item">
        <a class="nav-link btn btn-primary text-white font-weight-bold px-3" href="https://careers.godaddy.com/?source=APPLICANT_SOURCE-3-118&utm_source=godaddy-oss" title="Work at GoDaddy">
          Join us!
        </a>
      </li
    </ul>
  </div>
</nav>





<div class="container text-line-height-2x pt-3">
  <h1 class="mb-3 text-line-height-1-5-em">
    Announcing winston@3.0.0!
  </h1>

  <p><code class="highlighter-rouge">winston</code> is the most popular logging solution for Node.js. In fact, when
measured in public <code class="highlighter-rouge">npm</code> downloads <code class="highlighter-rouge">winston</code> is so popular that it has <a href="http://www.npmtrends.com/winston-vs-pino-vs-bunyan-vs-bole-vs-log4js">more
usage</a> than <strong>the top four comparable logging solutions combined.</strong> For nearly
the last three years the <code class="highlighter-rouge">winston</code> project has undergone a complete rewrite
for a few reasons:</p>

<ul>
  <li>Replace the <code class="highlighter-rouge">winston</code> internals with Node.js <code class="highlighter-rouge">objectMode</code> streams.</li>
  <li>Empower users to format their logs without changes to <code class="highlighter-rouge">winston</code> itself.</li>
  <li>Modularize <code class="highlighter-rouge">winston</code> into several smaller packages: <a href="https://github.com/winstonjs/winston-transport"><code class="highlighter-rouge">winston-transport</code></a>,
<a href="https://github.com/winstonjs/logform"><code class="highlighter-rouge">logform</code></a>, and <a href="https://github.com/winstonjs/triple-beam"><code class="highlighter-rouge">triple-beam</code></a>.</li>
  <li>Modernize and performance optimize a now seven year old codebase to ES6
(which it turns out was necessary to meet the API goals).</li>
</ul>

<p>Why don’t you take it for a spin?</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm i winston@3

<span class="c"># or if `yarn` is more your fancy</span>
yarn add winston@3
</code></pre></div></div>

<h2 id="winston3-api"><code class="highlighter-rouge">winston@3</code> API</h2>

<p>If you’re familiar with <code class="highlighter-rouge">winston</code> the default <code class="highlighter-rouge">v3</code> API will look pretty familiar to you:</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">transports</span><span class="p">,</span> <span class="nx">format</span><span class="p">,</span> <span class="nx">createLogger</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'winston'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">logger</span> <span class="o">=</span> <span class="nx">createLogger</span><span class="p">({</span>
  <span class="na">level</span><span class="p">:</span> <span class="s1">'info'</span><span class="p">,</span>
  <span class="na">format</span><span class="p">:</span> <span class="nx">format</span><span class="p">.</span><span class="nx">combine</span><span class="p">(</span>
    <span class="nx">format</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">(),</span>
    <span class="nx">format</span><span class="p">.</span><span class="nx">colorize</span><span class="p">(),</span>
    <span class="nx">format</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="nx">info</span> <span class="o">=&gt;</span> <span class="s2">`[</span><span class="p">${</span><span class="nx">info</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">}</span><span class="s2">] </span><span class="p">${</span><span class="nx">info</span><span class="p">.</span><span class="nx">level</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">info</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
  <span class="p">),</span>
  <span class="na">transports</span><span class="p">:</span> <span class="p">[</span>
    <span class="c1">//</span>
    <span class="c1">// - Write to all logs with level `info` and below to `combined.log`</span>
    <span class="c1">// - Write all logs error (and below) to `error.log`.</span>
    <span class="c1">//</span>
    <span class="k">new</span> <span class="nx">transports</span><span class="p">.</span><span class="nx">File</span><span class="p">({</span> <span class="na">filename</span><span class="p">:</span> <span class="s1">'error.log'</span><span class="p">,</span> <span class="na">level</span><span class="p">:</span> <span class="s1">'error'</span> <span class="p">}),</span>
    <span class="k">new</span> <span class="nx">transports</span><span class="p">.</span><span class="nx">File</span><span class="p">({</span> <span class="na">filename</span><span class="p">:</span> <span class="s1">'combined.log'</span> <span class="p">})</span>
  <span class="p">]</span>
<span class="p">});</span>

<span class="nx">logger</span><span class="p">.</span><span class="nx">info</span><span class="p">(</span><span class="s1">'Hello again distributed logs'</span><span class="p">);</span>
</code></pre></div></div>

<p>And that’s because the core logging semantics are the same. There are however,
a few key differences:</p>

<ol>
  <li><strong><code class="highlighter-rouge">createLogger</code> instead of <code class="highlighter-rouge">new Logger</code></strong> this change allowed for a major
performance increase due to how prototype functions are optimized.</li>
  <li><strong>All log formatting is now handled by formats</strong> this overhaul to the API
will streamline <code class="highlighter-rouge">winston</code> core itself and allow for userland (i.e.
user-defined formats to be shared just like userland transports are
already. We’ll discuss formats in-depth below.</li>
  <li><strong><code class="highlighter-rouge">Logger</code> and <code class="highlighter-rouge">Transport</code></strong> instances are now Node.js <code class="highlighter-rouge">objectMode</code>
streams.</li>
  <li><strong>Logging methods no longer accept a callback</strong> use the core Node.js
streams <code class="highlighter-rouge">finish</code> event instead to know when all logs have been written
and the process is safe to exit.</li>
</ol>

<blockquote>
  <p>There is an extensive <a href="https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md#readme">upgrade guide</a> on how to migrate to <code class="highlighter-rouge">winston@3</code>.
Particular care was taken to ensure backwards compatibility with existing
transports. There are also a long list of full featured <a href="https://github.com/winstonjs/winston/tree/master/examples">examples</a>.</p>
</blockquote>

<h2 id="backwards-compatibility-for-ecosystem-transports">Backwards compatibility for ecosystem Transports</h2>

<p>You shouldn’t be worried about your favorite Transport not working with
<code class="highlighter-rouge">winston@3</code> – <em>the <code class="highlighter-rouge">winston-transport</code> API was designed with this in mind.</em>
Any <code class="highlighter-rouge">winston@2</code> transport should get seamlessly wrapped with a compatibility
stream that will tell you to politely nudge the author:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>SomeTransport is a legacy winston transport. Consider upgrading:
- Upgrade docs: https://github.com/winstonjs/winston/blob/master/UPGRADE-3.0.md
</code></pre></div></div>

<p>Are you a transport author? We’d love your input! There’s <a href="https://github.com/winstonjs/winston/issues/1331">a great discussion</a>
going on about how to seamlessly support both <code class="highlighter-rouge">winston@2</code> and <code class="highlighter-rouge">winston@3</code> with
low maintenance overhead.</p>

<h2 id="formats-why-what-how">Formats. Why? What? How?</h2>

<blockquote>
  <p>“~Life~ Open Source is a series of natural and spontaneous changes.”</p>
</blockquote>

<p>To understand why formats were the right decision for <code class="highlighter-rouge">winston@3</code> we must look
backwards. The essence of the <code class="highlighter-rouge">winston@2.x</code> API is summed up by <code class="highlighter-rouge">common.log</code>
which will forever exist in <a href="https://github.com/winstonjs/winston-compat/blob/master/index.js#L67-L229">winston-compat</a> as a compatibility layer for
transport authors. It began innocent enough – a shared utility function that
accepts <code class="highlighter-rouge">options</code> and returns a formatted <code class="highlighter-rouge">string</code> representing the log
message.</p>

<p>Then came a series of natural and spontaneous changes over the course of many
years – and it grew. And grew. And grew. And created an unending list of
feature requests for log formatting (see <a href="https://github.com/winstonjs/winston/issues?q=is%3Aissue+label%3A%22use+a+custom+format%22+is%3Aclosed">just a few</a>).</p>

<p>As this pattern became more evident so did <a href="https://www.youtube.com/watch?v=Dnx2SPdcDSU">the cost</a>. This made the design
goals clear for formats:</p>

<ol>
  <li><strong>Enable userland log formatting:</strong> most importantly <em>without</em> any changes
needed to <code class="highlighter-rouge">winston</code> itself.</li>
  <li><strong>Strive to make users “pay” only for formatting features that they use:</strong>
ensure that the performance impact of log formatting features is <em>opt-in</em>.
In other words if you don’t use a feature you won’t pay any cost for it’s
implementation.</li>
</ol>

<p>This focus on log formatting features is not by accident. What <code class="highlighter-rouge">winston</code> has
shown is that reading logs is an immensely personal experience. By putting the
formatting features in userland we support that demand with less burden.</p>

<p>What is a format? Let’s start with an example that adds a timestamp, colorizes
the level and message, aligns message content with <code class="highlighter-rouge">\t</code> and prints using the
template <code class="highlighter-rouge">[timestamp] [level]: [message]</code>.</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="p">{</span> <span class="nx">format</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'winston'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">customFormat</span> <span class="o">=</span> <span class="nx">format</span><span class="p">.</span><span class="nx">combine</span><span class="p">(</span>
  <span class="nx">format</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">(),</span>              <span class="c1">// Adds info.timestamp</span>
  <span class="nx">format</span><span class="p">.</span><span class="nx">colorize</span><span class="p">({</span> <span class="na">all</span><span class="p">:</span> <span class="kc">true</span> <span class="p">}),</span>  <span class="c1">// Colorizes { level, message } on the info</span>
  <span class="nx">format</span><span class="p">.</span><span class="nx">align</span><span class="p">(),</span>                  <span class="c1">// Prepends message with `\t`</span>
  <span class="nx">format</span><span class="p">.</span><span class="nx">printf</span><span class="p">(</span><span class="nx">info</span> <span class="o">=&gt;</span> <span class="s2">`[</span><span class="p">${</span><span class="nx">info</span><span class="p">.</span><span class="nx">timestamp</span><span class="p">}</span><span class="s2">] </span><span class="p">${</span><span class="nx">info</span><span class="p">.</span><span class="nx">level</span><span class="p">}</span><span class="s2">: </span><span class="p">${</span><span class="nx">info</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span><span class="s2">`</span><span class="p">)</span>
<span class="p">);</span>
</code></pre></div></div>

<p>Each one of these <code class="highlighter-rouge">format</code> methods resemble a Node.js <code class="highlighter-rouge">TransformStream</code> but are
specifically designed to be synchronous since they do not have to handle
backpressure (i.e. a fast reader and a slow writer – such as reading from file
and writing to an HTTPS socket).</p>

<p>There is too much to go into about Formats in a single blog post, but there’s
a lot more in the <a href="https://github.com/winstonjs/winston#formats">Format documentation</a> and in <a href="https://github.com/winstonjs/logform#logform">logform</a> where they are
implemented.</p>

<h2 id="nodejs-lts-es6-symbols--maintaining-your-npm-packages-oh-my">Node.js LTS, ES6 Symbols, &amp; maintaining your <code class="highlighter-rouge">npm</code> packages – oh my!</h2>

<p>The key to the <code class="highlighter-rouge">winston@3</code> API is <a href="http://exploringjs.com/es6/ch_symbols.html#sec_overview-symbols">ES6 Symbols</a> – the API itself would have not
been possible without them. Why? The property value for the <code class="highlighter-rouge">LEVEL</code> symbol is a
copy of the original <code class="highlighter-rouge">level</code> value that should be considered <strong>immutable</strong> to
formats.</p>

<p>Without an ES6 Symbol we’d still have the same need to accomplish API goals.
That means instead of <code class="highlighter-rouge">[LEVEL]</code> in this example <code class="highlighter-rouge">info</code> object:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ [LEVEL]: 'info', level: 'info', message: 'Look at my logs, my logs are amazing.' }
</code></pre></div></div>

<p>we would have to pick a plain property name, say <code class="highlighter-rouge">_level</code>:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{ _level: 'info', level: 'info', message: 'Look at my logs, my logs are amazing.' }
</code></pre></div></div>

<p>You might think that a <code class="highlighter-rouge">_level</code> property vs. a <code class="highlighter-rouge">LEVEL</code> symbol are more or less
the same. They are except for one important difference: <strong>Symbols are excluded
from <code class="highlighter-rouge">JSON</code> by definition.</strong> This is critical because so many log files are
serialized to JSON and including these internal properties would be
unacceptable.</p>

<p>This seemingly small nuance of the API turned out to be critically important to
the <code class="highlighter-rouge">winston@3</code> release timeline. To understand why one must understand what
Node.js LTS is and what it can mean to authors of popular <code class="highlighter-rouge">npm</code> packages such
as <code class="highlighter-rouge">winston</code>.</p>

<p>Since Node.js began the LTS program it’s been the goal of <code class="highlighter-rouge">winston</code> to <em>support
all LTS releases of Node (including maintenance LTS).</em> Why support such old LTS
releases of Node.js? The underlying motivation is to make <code class="highlighter-rouge">winston</code> as reliable
for large teams &amp; enterprises as Node.js itself.</p>

<p>This LTS goal is a core reason why this release took three years to ship.
Let’s look at a recent release chart for Node.js LTS:</p>

<p><img src="/engineering/assets/images/nodejs-lts-releases.png" alt="" /></p>

<p>As you can see <code class="highlighter-rouge">node@4</code> entered “end of life” in April 2018. Until then it was
in the active support matrix for <code class="highlighter-rouge">winston</code> releases. Since ES6 features
(including Symbols) were only available in <code class="highlighter-rouge">node@6</code> this meant that even if API
development and re-write progress was ahead of schedule <em>(it wasn’t)</em> that
version wouldn’t be able to use it.</p>

<p>Why not polyfill the ES6 Symbol API? That’s definitely a possibility to
consider, but given the size and scope of the rewrite itself it didn’t seem
necessary to rush ourselves. Having seen how delicate these API decisions can
impact such a large ecosystem of packages (almost <a href="https://www.npmjs.com/search?q=winston">1000 results on npm</a>).</p>

<h2 id="want-to-get-involved">Want to get involved?</h2>

<p>Looking to get involved in an actively maintained open source project? Then
look no further - we’d love to have you join us on <code class="highlighter-rouge">winston</code>!</p>

<ul>
  <li>Learn more <a href="https://github.com/winstonjs/winston/blob/master/CONTRIBUTING.md#contributing">about contributing</a>.</li>
  <li>Checkout <a href="https://github.com/winstonjs/winston/blob/master/CONTRIBUTING.md#roadmap">the Roadmap</a> (spoiler alert: first-class browser support,
performance analysis using <code class="highlighter-rouge">0x</code> and even more test coverage).</li>
  <li>Find <a href="https://github.com/winstonjs/winston/issues?q=is%3Aopen+is%3Aissue+label%3A%22help+wanted%22">your first issue</a>.</li>
  <li>Help us <a href="https://github.com/winstonjs/winston/issues?page=6&amp;q=is%3Aopen+is%3Aissue&amp;utf8=%E2%9C%93">triage old issues</a> and close duplicates.</li>
</ul>

<p>You can find us <a href="https://gitter.im/winstonjs/winston">on Gitter in <code class="highlighter-rouge">winston</code></a>.
And with that – happy logging!</p>

<blockquote>
  <p>The author would like to extend a very special thanks to all of the
contributors for the <code class="highlighter-rouge">winston@3</code> release. In particular: <a href="https://github.com/dabh">David Hyde</a>,
<a href="https://github.com/chrisalderson">Chris Alderson</a>, and <a href="https://github.com/jcrugzz">Jarrett Cruger</a>.</p>
</blockquote>



  <div class="text-center mb-1">
  <div class="addthis_inline_share_toolbox"></div>
</div>

  

<hr>

<div class="authors">
  <h4 class="mb-3">
  
  Author
  
</h4>

  <div class="row">
    
    <div class="col-12">
      <div class="author mb-3">
        <a href="https://www.github.com/indexzero">
          <img class="rounded mr-2" src="https://avatars2.githubusercontent.com/u/4624?s=400&v=4" alt="Charlie Robbins" width="64">
          <span class="author-details">
            <h6>Charlie Robbins</h6>
            
          </span>
        </a>
      </div>
    </div>
    
  </div>
</div>

</div>

<footer class="page-footer text-light bg-theme-grey-dark">
    <div class="container py-3">
      <div class="row">
        <div class="col-12 col-md-6">
          <h5 class="text-white text-font-headline">
            GoDaddy Engineering
          </h5>
          <p>
            At GoDaddy we build next-generation experiences that empower the world's small business owners to start and grow their independent ventures.

            <a href="https://careers.godaddy.com/?source=APPLICANT_SOURCE-3-118&utm_source=godaddy-oss" title="Work at GoDaddy">
              Join us!
            </a>
          </p>
        </div>
        <div class="col-12 col-md-4 offset-md-2">
          <h5 class="text-white text-font-headline">
            On the web
          </h5>
          <ul class="list-unstyled mb-0">
  
  
  <li>
    <a class="text-light" href="https://github.com/godaddy" title="godaddy on GitHub">
      GitHub
    </a>
  </li>
  
  
  
  <li>
    <a class="text-light" href="https://twitter.com/GodaddyOSS" title="GodaddyOSS on Twitter">
      Twitter
    </a>
  </li>
  
  
  
  <li>
    <a class="text-light" href="https://dribbble.com/GoDaddy" title="GoDaddy on Dribbble">
      Dribbble
    </a>
  </li>
  
  
  
  <li>
    <a class="text-light" href="https://www.facebook.com/GoDaddy" title="GoDaddy on Facebook">
      Facebook
    </a>
  </li>
  
  
</ul>

        </div>
      </div>
    </div>
    <div class="footer-copyright bg-extra-dark text-center text-light font-weight-light py-3">
      <small>
        Copyright © 1999 - 2018 GoDaddy Operating Company, LLC. All Rights Reserved.

      </small>
    </div>
  </footer>
  <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js" integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T" crossorigin="anonymous"></script>


<script async src="https://www.google-analytics.com/analytics.js"></script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/autotrack/2.4.1/autotrack.js"></script>
<script>
  window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
  ga('create', 'UA-37178807-20', 'auto');
  ga('require', 'outboundLinkTracker');
  ga('send', 'pageview');
</script>



<script async src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-5b039a09ed801a5d"></script>






</body>
</html>

